<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    /* 
        promise 承诺

        为什么要用promise？
        promise解决了异步编程的问题

        在then里面就走同步

        如何使用promise

        newPromise(function(resolve,reject){
            主线程
            当异步代码执行完 通过异步代码的结果去调用resolve或者reject

            异步代码可能报错或者错误 如果报错或者错误就执行reject
            一般都是resolve（放异步的结果）
        })；

        它是一个返回值 返回值是promise对象 这个对象有then方法then（成功函数，失败函数）
        第一个then （微任务）
        成功函数里面的参数就是异步的结果

        第二个then （微任务）
        第一个then的返回值

        此时的知识点需要后期内容的铺垫和若干个异步请求实验总结才能李宁无这个promise

        let p=new Promise(function(resolve,reject){
            resolve(5);
        })
        p.then(function(data){
            console.log(data);
        })

        虽然promise解决了异步编程的问题 但是在then的外面还是异步的

        没有promise也能进行开发 只不过维护起来比较麻烦点

        then中包含2个函数 第一个函数是成功之后的回调 第二个函数是失败之后的回调

        finally 不管成功还是失败都会进的回调函数

        如果代码有可能会报错 下面的代码是不会执行的 入果使用trycatch
        那么try{

        }catch(e){

        }

        //第一个then 的返回值 是第二个then 的参数
        fetch().then(function(d){
            return d.json();
        }).then(function(d){
            console.log(d); //d就是d.json()
        })
     */
</script>